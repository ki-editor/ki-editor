"use strict";(globalThis.webpackChunkdocu=globalThis.webpackChunkdocu||[]).push([[9990],{17739(e,t,r){r.d(t,{F:()=>c});var n=r(96540),s=r(29030),i=r(85321),a=r(14476),o=r(74848);const l=a.Ik({description:a.Yj(),steps:a.YO(a.Ik({description:a.Yj(),key:a.Yj(),term_output:a.Yj(),buffer_contents_map:a.g1(a.Yj(),a.Yj())})),terminal_height:a.ai(),terminal_width:a.ai(),similar_vim_combos:a.YO(a.Yj())});const c=e=>{const[t,r]=(0,n.useState)([]),[i,c]=(0,n.useState)(null),m=(0,s.Ay)(`/recipes/${e.filename}.json`);return(0,n.useEffect)((()=>{(async function(e){const t=await fetch(e),r=await t.json();return a.YO(l).parse(r.recipes_output)})(m).then((e=>r(e??[]))).catch((e=>c(e)))}),[m]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[(0,o.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/keyboard-css@1.2.4/dist/css/main.min.css"}),t.map(((e,t)=>(0,o.jsx)(d,{recipe:e},t))),i&&(0,o.jsx)("div",{style:{color:"red"},children:i.message})]})},d=e=>{const t=(0,n.useMemo)((()=>({options:{fontSize:20,cols:e.recipe.terminal_width,rows:e.recipe.terminal_height}})),[e.recipe.terminal_width,e.recipe.terminal_height]),{instance:r,ref:a}=(0,i.M)(t),[l,c]=(0,n.useState)(0);(0,n.useEffect)((()=>{const t=e.recipe.steps[l];r?.write(t.term_output)}),[r,l,e.recipe.steps[l]]);const d=Object.entries(e.recipe.steps[l].buffer_contents_map).sort(((e,t)=>e[0].localeCompare(t[0])));return(0,o.jsxs)("div",{style:{display:"grid",gap:16,justifySelf:"start",overflow:"hidden"},children:[(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{display:"grid"},children:[(0,o.jsx)("h2",{children:e.recipe.description}),(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start"},children:e.recipe.similar_vim_combos.map(((e,t)=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",alignItems:"center"},children:[(0,o.jsx)("img",{style:{height:24},src:(0,s.Ay)("/img/vim-icon.svg")}),(0,o.jsx)("code",{style:{padding:"0 8px"},children:e})]},t)))})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:8,gridAutoFlow:"column",justifySelf:"end"},children:[d.map((([e,t],r)=>(0,o.jsx)("button",{className:"kbc-button",onClick:()=>{navigator.clipboard.writeText(t)},children:d.length>1?`Copy (${e})`:"Copy"},r))),(0,o.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.max(l-1,0)),children:"\u2039"}),(0,o.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.min(l+1,e.recipe.steps.length-1)),children:"\u203a"})]})]}),(0,o.jsx)("div",{ref:a,style:{justifySelf:"start",border:"1px solid black"}}),(0,o.jsx)("div",{style:{display:"grid",justifyContent:"start",alignContent:"start",justifyItems:"center",gap:8},children:(0,o.jsx)("div",{style:{display:"grid",gap:2,gridAutoFlow:"column",justifySelf:"start",overflowX:"auto",width:"100%",justifyContent:"start"},children:e.recipe.steps.map(((e,t)=>(0,o.jsx)("button",{onClick:()=>c(t),className:["kbc-button",t===l?"active":void 0].join(" "),style:{fontFamily:"monospace"},children:e.key},t)))})})]})}},19506(e,t,r){r.d(t,{W:()=>i});var n=r(35363),s=r(74848);const i=e=>(0,s.jsx)(n.default,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:()=>{const t=r(78536).k;return(0,s.jsx)(t,{filename:e.filename})}})},27893(e,t,r){r.d(t,{P:()=>i});var n=r(35363),s=r(74848);const i=e=>(0,s.jsx)(n.default,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:()=>{const t=r(17739).F;return(0,s.jsx)(t,{filename:e.filename})}})},40987(e,t,r){r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"momentary-layers/buffer-mol","title":"Buffer MoL","description":"Keymap","source":"@site/docs/momentary-layers/buffer-mol.mdx","sourceDirName":"momentary-layers","slug":"/momentary-layers/buffer-mol","permalink":"/docs/momentary-layers/buffer-mol","draft":false,"unlisted":false,"editUrl":"https://github.com/ki-editor/ki-editor/tree/master/docs/momentary-layers/buffer-mol.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/docs/momentary-layers/"},"next":{"title":"Cut MoL","permalink":"/docs/momentary-layers/cut-mol"}}');var s=r(74848),i=r(28453),a=r(27893),o=r(19506);const l={},c="Buffer MoL",d={},m=[{value:"Keymap",id:"keymap",level:2},{value:"Examples",id:"examples",level:2},{value:"Workflow Overview",id:"workflow-overview",level:2}];function u(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"buffer-mol",children:"Buffer MoL"})}),"\n",(0,s.jsx)(t.h2,{id:"keymap",children:"Keymap"}),"\n",(0,s.jsx)(o.W,{filename:"Buffer"}),"\n",(0,s.jsx)(t.p,{children:"In this MoL, every core movement means:"}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"change focus to <movement> buffer."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Buffers can be either marked or un-marked: each marked file gets its own tab\non the tab bar, however only one the very rightmost end of the tabs on the tab bar\nshow the open buffers."}),"\n",(0,s.jsxs)(t.p,{children:["When using coarse movements like ",(0,s.jsx)(t.code,{children:">>"})," and ",(0,s.jsx)(t.code,{children:"<<"})," you can only visit navigate to marked files.\nOpened but non-marked files can be navigated-to through fine-movements like ",(0,s.jsx)(t.code,{children:">"})," and ",(0,s.jsx)(t.code,{children:"<"}),".\nNoteably, when doing ",(0,s.jsx)(t.code,{children:"<<"}),' on the left-most marked-file, the focus lands "warps" or cycles to\nthe righmost file.']}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(a.P,{filename:"mark-file"}),"\n",(0,s.jsx)(a.P,{filename:"open-file"}),"\n",(0,s.jsx)(t.h2,{id:"workflow-overview",children:"Workflow Overview"}),"\n",(0,s.jsx)(t.p,{children:"This workflow is designed to streamline your editing process by allowing quick\naccess to your primary files."}),"\n",(0,s.jsx)(t.p,{children:"During an editing session, you often work on\nprimary files while occasionally referring to other less important files.\nUsing Buffer MoL, you can quickly jump back to your main files, enhancing your\nproductivity and focus."}),"\n",(0,s.jsx)(t.p,{children:"By utilizing file marking, you can efficiently navigate your editing\nenvironment and maintain your workflow's momentum."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},78536(e,t,r){r.d(t,{k:()=>p});var n=r(96540),s=r(8532),i=r(29030),a=r(14476),o=r(74848);function l(e,t){const[r,s]=(0,n.useState)((()=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error reading localStorage key "${e}":`,r),t}}));return(0,n.useEffect)((()=>{try{localStorage.setItem(e,JSON.stringify(r))}catch(t){console.error(`Error writing to localStorage key "${e}":`,t)}}),[e,r]),[r,s]}const c=a.Ik({name:a.Yj(),rows:a.YO(a.YO(a.Ik({normal:a.me(a.Yj()),alted:a.me(a.Yj()),shifted:a.me(a.Yj())}))),keyboard_layouts:a.YO(a.Ik({name:a.Yj(),keys:a.YO(a.YO(a.Yj()))}))}),d="keymap-keyboard-layout",m="keymap-show-keys",u="grid-alignment",h="panel-layout";const p=e=>{const[t,r]=(0,n.useState)(null),[s,a]=(0,n.useState)(null),l=(0,i.Ay)(`/keymaps/${e.filename}.json`);return(0,n.useEffect)((()=>{(async function(e){const t=await fetch(e),r=await t.json();return console.log(r),c.parse(r)})(l).then((e=>{r(e)})).catch((e=>a(e)))}),[l]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[t&&(0,o.jsx)(g,{keymap:t}),s&&(0,o.jsx)("div",{style:{color:"red"},children:s.message})]})},y=["Row Staggered","Ortholinear"],f=["Unified","Split","Stack"],g=e=>{const[t,r]=l(m,!0),[i,a]=l(h,"Unified"),[c,p]=l(u,"Ortholinear"),[g,j]=l(d,e.keymap.keyboard_layouts[0].name),x=n.useMemo((()=>e.keymap.keyboard_layouts.find((e=>e.name===g))||e.keymap.keyboard_layouts[0]),[g,e.keymap.keyboard_layouts]),{colorMode:k}=(0,s.G)(),v={width:100,height:100,border:"1px solid "+("light"===k?"black":"white"),display:"grid",placeItems:"center",borderRadius:4,gridTemplateRows:`repeat(${t?4:3}, 1fr)`,fontSize:14},b=()=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:t,onChange:()=>r(!t)}),(0,o.jsx)("span",{children:"Show keys"})]}),t&&(0,o.jsx)("select",{value:x.name,onChange:e=>{j(e.target.value)},className:"px-2 py-1 border rounded",children:e.keymap.keyboard_layouts.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,o.jsx)("option",{value:e.name,children:e.name},e.name)))}),(0,o.jsx)("select",{value:i,onChange:e=>{a(e.target.value)},className:"px-2 py-1 border rounded",children:Array(...f).sort().map((e=>(0,o.jsx)("option",{value:e,children:e},e)))}),(0,o.jsx)("select",{value:c,onChange:e=>{p(e.target.value)},children:y.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]});function w(e){throw new Error("You are missing cases in your switch")}const S=r=>{const s=(e=>{switch(e){case"Left":return(e,t)=>t<5;case"Right":return(e,t)=>t>=5;case"All":return(e,t)=>!0;default:w()}})(r),a=e.keymap.rows.map((e=>e.filter(s))),l=x.keys.map((e=>e.filter(s))),d=(e=>{switch(e){case"Left":return(e,t)=>1===e&&3===t;case"Right":return(e,t)=>1===e&&1===t;case"All":return(e,t)=>1===e&&(3===t||6===t);default:w()}})(r);return a.map(((e,r)=>{const s="Row Staggered"===c?[0,24,56][r]:0;return(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",marginLeft:s},children:e.map(((e,s)=>(0,o.jsxs)(n.Fragment,{children:["Split"===i&&5===s&&(0,o.jsx)("div",{style:{width:100/1.618}}),(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsxs)("div",{style:{...v,gridArea:"1 / 1",overflow:"hidden",backgroundColor:d(r,s)?"light"===k?"lightyellow":"darkblue":void 0},children:[t&&(0,o.jsx)("div",{style:{backgroundColor:"light"===k?"black":"white",color:"light"===k?"white":"black",width:"100%"},children:l[r][s]}),e.alted?(0,o.jsxs)("div",{children:["\u2325 \xa0",e.alted]}):(0,o.jsx)("div",{}),e.shifted?(0,o.jsxs)("div",{children:["\u21e7\xa0",e.shifted]}):(0,o.jsx)("div",{}),e.normal?(0,o.jsx)("div",{children:e.normal}):(0,o.jsx)("div",{})]})})]},`${r}-${s}`)))},r)}))},C=()=>(0,o.jsx)("div",{style:{fontFamily:"sans-serif",whiteSpace:"nowrap",display:"grid",gap:4,paddingBottom:16,overflowX:"auto"},children:"Stack"===i?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("h3",{children:"Left Key Panel"}),S("Left"),(0,o.jsx)("h3",{style:{paddingTop:16},children:"Right Key Panel"}),S("Right")]}):S("All")});return(0,o.jsxs)("div",{style:{display:"grid",gap:8,marginTop:8,marginBottom:16},children:[(0,o.jsx)(b,{}),(0,o.jsx)(C,{})]})}}}]);