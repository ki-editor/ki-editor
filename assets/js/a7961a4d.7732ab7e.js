"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[9384],{1603:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>h});var s=t(4848),i=t(8453),r=t(7692),l=t(6787);const o={sidebar_position:2},d="Core Movements",c={id:"normal-mode/core-movements",title:"Core Movements",description:"Intro",source:"@site/docs/normal-mode/core-movements.md",sourceDirName:"normal-mode",slug:"/normal-mode/core-movements",permalink:"/ki-editor/docs/normal-mode/core-movements",draft:!1,unlisted:!1,editUrl:"https://github.com/ki-editor/ki-editor/tree/master/docs/normal-mode/core-movements.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Normal Mode",permalink:"/ki-editor/docs/normal-mode/"},next:{title:"Selection Modes",permalink:"/ki-editor/docs/category/selection-modes-1"}},a={},h=[{value:"Intro",id:"intro",level:2},{value:"Keymap",id:"keymap",level:2},{value:"<code>\u25c0</code> <code>\u25b6</code> Left/Right",id:"--leftright",level:3},{value:"Previous/Next",id:"previousnext",level:3},{value:"<code>\u25b2</code> <code>\u25bc</code> Up/Down",id:"--updown",level:3},{value:"Sticky Column",id:"sticky-column",level:4},{value:"First/Last",id:"firstlast",level:3},{value:"<code>Jump</code>",id:"jump",level:3},{value:"<code>Index</code> Jump to Index",id:"index-jump-to-index",level:3},{value:"Current",id:"current",level:3}];function x(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"core-movements",children:"Core Movements"})}),"\n",(0,s.jsx)(n.h2,{id:"intro",children:"Intro"}),"\n",(0,s.jsxs)(n.p,{children:["Core Movements is one of the main concepts in Ki, because it is standardized for\nevery ",(0,s.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/selection-modes/",children:"selection modes"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"There are 9 movements in total:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#--leftright",children:[(0,s.jsx)(n.code,{children:"\u25c0"})," ",(0,s.jsx)(n.code,{children:"\u25b6"})," Left/Right"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#previousnext",children:"Previous/Next"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#--updown",children:[(0,s.jsx)(n.code,{children:"\u25b2"})," ",(0,s.jsx)(n.code,{children:"\u25bc"})," Up/Down"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#firstlast",children:"First/Last"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#jump",children:(0,s.jsx)(n.code,{children:"Jump"})})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#index-jump-to-index",children:[(0,s.jsx)(n.code,{children:"Index"})," Jump to Index"]})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#current",children:"Current"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"keymap",children:"Keymap"}),"\n",(0,s.jsx)(l.W,{filename:"Movements"}),"\n",(0,s.jsxs)(n.h3,{id:"--leftright",children:[(0,s.jsx)(n.code,{children:"\u25c0"})," ",(0,s.jsx)(n.code,{children:"\u25b6"})," Left/Right"]}),"\n",(0,s.jsxs)(n.p,{children:["Left/Right means move to the previous/next ",(0,s.jsx)(n.strong,{children:"meaningful"})," selection of the current selection mode."]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Selection Mode"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Syntax Node"}),(0,s.jsx)(n.td,{children:"Next/Previous named sibling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Token"}),(0,s.jsx)(n.td,{children:"Non-symbol token"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"previousnext",children:"Previous/Next"}),"\n",(0,s.jsxs)(n.p,{children:["Previous/Next means move to the previous/next selection of the current selection mode, ",(0,s.jsx)(n.strong,{children:"without"})," skipping any selections (generally)."]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Selection Mode"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Syntax Node"}),(0,s.jsx)(n.td,{children:"Sibling nodes including anonymous ones"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Token"}),(0,s.jsx)(n.td,{children:"All tokens including symbols"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Line"}),(0,s.jsx)(n.td,{children:"Empty lines"})]})]})]}),"\n",(0,s.jsxs)(n.h3,{id:"--updown",children:[(0,s.jsx)(n.code,{children:"\u25b2"})," ",(0,s.jsx)(n.code,{children:"\u25bc"})," Up/Down"]}),"\n",(0,s.jsx)(n.p,{children:"Up/Down means move to the nearest selection above/below the current line, except for\nthe following selection modes:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Selection Mode"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Syntax Node"}),(0,s.jsx)(n.td,{children:"Parent or First-Sibling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Quickfix"}),(0,s.jsx)(n.td,{children:"To first item of next/previous file"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"sticky-column",children:"Sticky Column"}),"\n",(0,s.jsx)(n.p,{children:"When a vertical movement is executed, the current cursor column will be stored as\nthe sticky column, such that subsequent vertical movements will try to adhere as much\nas possible to that sticky column."}),"\n",(0,s.jsx)(n.p,{children:"The sticky column will be cleared once any non-vertical movement is executed."}),"\n",(0,s.jsx)(r.P,{filename:"sticky-column"}),"\n",(0,s.jsx)(n.h3,{id:"firstlast",children:"First/Last"}),"\n",(0,s.jsx)(n.p,{children:"By default, First/Last moves to the first/last selection of the current selection mode."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Selection Mode"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Syntax Node"}),(0,s.jsx)(n.td,{children:"First/Last named sibling"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Quickfix"}),(0,s.jsx)(n.td,{children:"First/Last item"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Char"}),(0,s.jsx)(n.td,{children:"First/Last char in the current word"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Word"}),(0,s.jsx)(n.td,{children:"First/Last word in the current token"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Token"}),(0,s.jsx)(n.td,{children:"Previous/Next symbolic tokens"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Line & Full Line"}),(0,s.jsx)(n.td,{children:"First/Last line of the current file"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"jump",children:(0,s.jsx)(n.code,{children:"Jump"})}),"\n",(0,s.jsxs)(n.p,{children:["This is my favorite movement, which is inspired by ",(0,s.jsx)(n.a,{href:"https://github.com/easymotion/vim-easymotion",children:"Vim Easymotion"})," and friends ",(0,s.jsx)(n.sup,{children:(0,s.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It allows you to jump to your desired position (as long as it is within the screen), with just 4 keypresses most of the time."}),"\n",(0,s.jsx)(n.p,{children:"It works like this:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Choose your selection mode"}),"\n",(0,s.jsxs)(n.li,{children:["Press ",(0,s.jsx)(n.code,{children:";"})]}),"\n",(0,s.jsx)(n.li,{children:"Press the first letter of the selection that you want to jump to."}),"\n",(0,s.jsx)(n.li,{children:"Press the letter that appears on top of the selection."}),"\n",(0,s.jsx)(n.li,{children:"Done."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Recommended selection modes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Syntax Node"}),"\n",(0,s.jsx)(n.li,{children:"Word"}),"\n",(0,s.jsx)(n.li,{children:"Token"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This movement can also work with the Swap mode to swap two syntax expressions that are far apart."}),"\n",(0,s.jsx)(r.P,{filename:"jump"}),"\n",(0,s.jsx)(n.p,{children:"Note: All letters after the first will be selected based on key accessibility in the chosen keyboard layout."}),"\n",(0,s.jsxs)(n.h3,{id:"index-jump-to-index",children:[(0,s.jsx)(n.code,{children:"Index"})," Jump to Index"]}),"\n",(0,s.jsx)(n.p,{children:"When this is activated, you will be prompted to key in a 1-based index, which after Enter\nwill take you to the nth selection of the current selection mode."}),"\n",(0,s.jsx)(n.p,{children:"Recommended selection modes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Line (For going to a specific line number)"}),"\n",(0,s.jsx)(n.li,{children:"Char (For going to a specific column number)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"current",children:"Current"}),"\n",(0,s.jsx)(n.p,{children:'This is not really a movement, since its not "moving" the selections per se.'}),"\n",(0,s.jsx)(n.p,{children:"There's no specific keybinding for Current because it is triggered whenever a\nselection mode is chosen."}),"\n",(0,s.jsx)(n.p,{children:"For example, choosing the Line selection mode causes the current line to be\nselected, choosing the Word selection mode causes the current word to be selected."}),"\n",(0,s.jsx)(n.p,{children:"In cases where there's no matching selection under the cursor, the Current movement chooses the nearest selection based on the following criteria (in order):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Same line as cursor (if possible)"}),"\n",(0,s.jsx)(n.li,{children:"Nearest to cursor (in terms of horizontal movements)"}),"\n"]}),"\n","\n",(0,s.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,s.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,s.jsxs)(n.p,{children:["hop.nvim, leap.nvim, lightspeed.nvim etc. ",(0,s.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},6401:(e,n,t)=>{t.d(n,{k:()=>j});var s=t(6540),i=t(5293),r=t(6025),l=t(4476),o=t(4848);function d(e,n){const[t,i]=(0,s.useState)((()=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):n}catch(t){return console.error(`Error reading localStorage key "${e}":`,t),n}}));return(0,s.useEffect)((()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error(`Error writing to localStorage key "${e}":`,n)}}),[e,t]),[t,i]}const c=l.Ik({name:l.Yj(),rows:l.YO(l.YO(l.Ik({normal:l.me(l.Yj()),alted:l.me(l.Yj()),shifted:l.me(l.Yj())}))),keyboard_layouts:l.YO(l.Ik({name:l.Yj(),keys:l.YO(l.YO(l.Yj()))}))}),a="keymap-keyboard-layout",h="keymap-show-keys",x="grid-alignment",m="panel-layout",j=e=>{const[n,t]=(0,s.useState)(null),[i,l]=(0,s.useState)(null),d=(0,r.Ay)(`/keymaps/${e.filename}.json`);return(0,s.useEffect)((()=>{(async function(e){try{const n=await fetch(e),t=await n.json();return console.log(t),c.parse(t)}catch(i){l(i)}})(d).then((e=>{t(e)}))}),[]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[n&&(0,o.jsx)(y,{keymap:n}),i&&(0,o.jsx)("div",{style:{color:"red"},children:i.message})]})},u=["Row Staggered","Ortholinear"],p=["Unified","Split","Stack"],y=e=>{const[n,t]=d(h,!0),[r,l]=d(m,"Unified"),[c,j]=d(x,"Ortholinear"),[y,f]=d(a,e.keymap.keyboard_layouts[0].name),g=s.useMemo((()=>e.keymap.keyboard_layouts.find((e=>e.name===y))||e.keymap.keyboard_layouts[0]),[y,e.keymap.keyboard_layouts]),{colorMode:v}=(0,i.G)(),k={width:100,height:100,border:"1px solid "+("light"===v?"black":"white"),display:"grid",placeItems:"center",borderRadius:4,gridTemplateRows:`repeat(${n?4:3}, 1fr)`,fontSize:14},b=()=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:n,onChange:()=>t(!n)}),(0,o.jsx)("span",{children:"Show keys"})]}),n&&(0,o.jsx)("select",{value:g.name,onChange:e=>{f(e.target.value)},className:"px-2 py-1 border rounded",children:e.keymap.keyboard_layouts.sort(((e,n)=>e.name.localeCompare(n.name))).map((e=>(0,o.jsx)("option",{value:e.name,children:e.name},e.name)))}),(0,o.jsx)("select",{value:r,onChange:e=>{l(e.target.value)},className:"px-2 py-1 border rounded",children:Array(...p).sort().map((e=>(0,o.jsx)("option",{value:e,children:e},e)))}),(0,o.jsx)("select",{value:c,onChange:e=>{j(e.target.value)},children:u.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]});function w(e){throw new Error("You are missing cases in your switch")}const S=t=>{const i=(e=>{switch(e){case"Left":return(e,n)=>n<5;case"Right":return(e,n)=>n>=5;case"All":return(e,n)=>!0;default:w()}})(t),l=e.keymap.rows.map((e=>e.filter(i))),d=g.keys.map((e=>e.filter(i))),a=(e=>{switch(e){case"Left":return(e,n)=>1===e&&3===n;case"Right":return(e,n)=>1===e&&1===n;case"All":return(e,n)=>1===e&&(3===n||6===n);default:w()}})(t);return l.map(((e,t)=>{const i="Row Staggered"===c?[0,24,56][t]:0;return(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",marginLeft:i},children:e.map(((e,i)=>(0,o.jsxs)(s.Fragment,{children:["Split"===r&&5===i&&(0,o.jsx)("div",{style:{width:100/1.618}}),(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsxs)("div",{style:{...k,gridArea:"1 / 1",overflow:"hidden",backgroundColor:a(t,i)?"light"===v?"lightyellow":"darkblue":void 0},children:[n&&(0,o.jsx)("div",{style:{backgroundColor:"light"===v?"black":"white",color:"light"===v?"white":"black",width:"100%"},children:d[t][i]}),e.alted?(0,o.jsxs)("div",{children:["\u2325 \xa0",e.alted]}):(0,o.jsx)("div",{}),e.shifted?(0,o.jsxs)("div",{children:["\u21e7\xa0",e.shifted]}):(0,o.jsx)("div",{}),e.normal?(0,o.jsx)("div",{children:e.normal}):(0,o.jsx)("div",{})]})})]},`${t}-${i}`)))},t)}))},C=()=>(0,o.jsx)("div",{style:{fontFamily:"sans-serif",whiteSpace:"nowrap",display:"grid",gap:4,paddingBottom:16,overflowX:"auto"},children:"Stack"===r?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("h3",{children:"Left Key Panel"}),S("Left"),(0,o.jsx)("h3",{style:{paddingTop:16},children:"Right Key Panel"}),S("Right")]}):S("All")});return(0,o.jsxs)("div",{style:{display:"grid",gap:8,marginTop:8,marginBottom:16},children:[(0,o.jsx)(b,{}),(0,o.jsx)(C,{})]})}},6787:(e,n,t)=>{t.d(n,{W:()=>r});t(6540);var s=t(8478),i=t(4848);const r=e=>(0,i.jsx)(s.A,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:()=>{const n=t(6401).k;return(0,i.jsx)(n,{filename:e.filename})}})},338:(e,n,t)=>{t.d(n,{F:()=>c});var s=t(6540),i=t(6025),r=t(5321),l=t(4476),o=t(4848);const d=l.Ik({description:l.Yj(),steps:l.YO(l.Ik({description:l.Yj(),key:l.Yj(),term_output:l.Yj()})),terminal_height:l.ai(),terminal_width:l.ai(),similar_vim_combos:l.YO(l.Yj())}),c=e=>{const[n,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(null),h=(0,i.Ay)(`/recipes/${e.filename}.json`);return(0,s.useEffect)((()=>{(async function(e){try{const n=await fetch(e),t=await n.json();return l.YO(d).parse(t.recipes_output)}catch(r){c(r)}})(h).then((e=>t(e??[])))}),[]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[(0,o.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/keyboard-css@1.2.4/dist/css/main.min.css"}),n.map(((e,n)=>(0,o.jsx)(a,{recipe:e},n))),r&&(0,o.jsx)("div",{style:{color:"red"},children:r.message})]})},a=e=>{const n=(0,s.useMemo)((()=>({options:{fontSize:20,cols:e.recipe.terminal_width,rows:e.recipe.terminal_height}})),[]),{instance:t,ref:l}=(0,r.M)(n),[d,c]=(0,s.useState)(0);return(0,s.useEffect)((()=>{const n=e.recipe.steps[d];t?.write(n.term_output)}),[l,t,d]),(0,o.jsxs)("div",{style:{display:"grid",gap:16,justifySelf:"start",overflow:"hidden"},children:[(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{display:"grid"},children:[(0,o.jsx)("h2",{children:e.recipe.description}),(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start"},children:e.recipe.similar_vim_combos.map(((e,n)=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",alignItems:"center"},children:[(0,o.jsx)("img",{style:{height:24},src:(0,i.Ay)("/img/vim-icon.svg")}),(0,o.jsx)("code",{style:{padding:"0 8px"},children:e})]},n)))})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:8,gridAutoFlow:"column",justifySelf:"end"},children:[(0,o.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.max(d-1,0)),children:"\u2039"}),(0,o.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.min(d+1,e.recipe.steps.length-1)),children:"\u203a"})]})]}),(0,o.jsx)("div",{ref:l,style:{justifySelf:"start",border:"1px solid black"}}),(0,o.jsx)("div",{style:{display:"grid",justifyContent:"start",alignContent:"start",justifyItems:"center",gap:8},children:(0,o.jsx)("div",{style:{display:"grid",gap:2,gridAutoFlow:"column",justifySelf:"start",overflowX:"auto",width:"100%"},children:e.recipe.steps.map(((e,n)=>(0,o.jsx)("button",{onClick:()=>c(n),className:["kbc-button",n===d?"active":void 0].join(" "),style:{fontFamily:"monospace"},children:e.key})))})})]})}},7692:(e,n,t)=>{t.d(n,{P:()=>r});t(6540);var s=t(8478),i=t(4848);const r=e=>(0,i.jsx)(s.A,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:()=>{const n=t(338).F;return(0,i.jsx)(n,{filename:e.filename})}})}}]);