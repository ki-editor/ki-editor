"use strict";(globalThis.webpackChunkdocu=globalThis.webpackChunkdocu||[]).push([[5361],{17739(e,n,s){s.d(n,{F:()=>c});var r=s(96540),t=s(29030),i=s(85321),d=s(14476),l=s(74848);const o=d.Ik({description:d.Yj(),steps:d.YO(d.Ik({description:d.Yj(),key:d.Yj(),term_output:d.Yj(),buffer_contents_map:d.g1(d.Yj(),d.Yj())})),terminal_height:d.ai(),terminal_width:d.ai(),similar_vim_combos:d.YO(d.Yj())});const c=e=>{const[n,s]=(0,r.useState)([]),[i,c]=(0,r.useState)(null),h=(0,t.Ay)(`/recipes/${e.filename}.json`);return(0,r.useEffect)((()=>{(async function(e){const n=await fetch(e),s=await n.json();return d.YO(o).parse(s.recipes_output)})(h).then((e=>s(e??[]))).catch((e=>c(e)))}),[h]),(0,l.jsxs)("div",{style:{display:"grid",gap:64},children:[(0,l.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/keyboard-css@1.2.4/dist/css/main.min.css"}),n.map(((e,n)=>(0,l.jsx)(a,{recipe:e},n))),i&&(0,l.jsx)("div",{style:{color:"red"},children:i.message})]})},a=e=>{const n=(0,r.useMemo)((()=>({options:{fontSize:20,cols:e.recipe.terminal_width,rows:e.recipe.terminal_height}})),[e.recipe.terminal_width,e.recipe.terminal_height]),{instance:s,ref:d}=(0,i.M)(n),[o,c]=(0,r.useState)(0);(0,r.useEffect)((()=>{const n=e.recipe.steps[o];s?.write(n.term_output)}),[s,o,e.recipe.steps[o]]);const a=Object.entries(e.recipe.steps[o].buffer_contents_map).sort(((e,n)=>e[0].localeCompare(n[0])));return(0,l.jsxs)("div",{style:{display:"grid",gap:16,justifySelf:"start",overflow:"hidden"},children:[(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",alignItems:"center"},children:[(0,l.jsxs)("div",{style:{display:"grid"},children:[(0,l.jsx)("h2",{children:e.recipe.description}),(0,l.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start"},children:e.recipe.similar_vim_combos.map(((e,n)=>(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",alignItems:"center"},children:[(0,l.jsx)("img",{style:{height:24},src:(0,t.Ay)("/img/vim-icon.svg")}),(0,l.jsx)("code",{style:{padding:"0 8px"},children:e})]},n)))})]}),(0,l.jsxs)("div",{style:{display:"grid",gap:8,gridAutoFlow:"column",justifySelf:"end"},children:[a.map((([e,n],s)=>(0,l.jsx)("button",{className:"kbc-button",onClick:()=>{navigator.clipboard.writeText(n)},children:a.length>1?`Copy (${e})`:"Copy"},s))),(0,l.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.max(o-1,0)),children:"\u2039"}),(0,l.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.min(o+1,e.recipe.steps.length-1)),children:"\u203a"})]})]}),(0,l.jsx)("div",{ref:d,style:{justifySelf:"start",border:"1px solid black"}}),(0,l.jsx)("div",{style:{display:"grid",justifyContent:"start",alignContent:"start",justifyItems:"center",gap:8},children:(0,l.jsx)("div",{style:{display:"grid",gap:2,gridAutoFlow:"column",justifySelf:"start",overflowX:"auto",width:"100%",justifyContent:"start"},children:e.recipe.steps.map(((e,n)=>(0,l.jsx)("button",{onClick:()=>c(n),className:["kbc-button",n===o?"active":void 0].join(" "),style:{fontFamily:"monospace"},children:e.key},n)))})})]})}},19506(e,n,s){s.d(n,{W:()=>i});var r=s(35363),t=s(74848);const i=e=>(0,t.jsx)(r.default,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:()=>{const n=s(78536).k;return(0,t.jsx)(n,{filename:e.filename})}})},27893(e,n,s){s.d(n,{P:()=>i});var r=s(35363),t=s(74848);const i=e=>(0,t.jsx)(r.default,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:()=>{const n=s(17739).F;return(0,t.jsx)(n,{filename:e.filename})}})},77394(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>j,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"normal-mode/selection-modes/primary","title":"Primary","description":"Keymap","source":"@site/docs/normal-mode/selection-modes/primary.md","sourceDirName":"normal-mode/selection-modes","slug":"/normal-mode/selection-modes/primary","permalink":"/ki-editor/docs/normal-mode/selection-modes/primary","draft":false,"unlisted":false,"editUrl":"https://github.com/ki-editor/ki-editor/tree/master/docs/normal-mode/selection-modes/primary.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/ki-editor/docs/normal-mode/selection-modes/"},"next":{"title":"Secondary","permalink":"/ki-editor/docs/normal-mode/selection-modes/secondary/"}}');var t=s(74848),i=s(28453),d=s(27893),l=s(19506);const o={sidebar_position:2},c="Primary",a={},h=[{value:"Keymap",id:"keymap",level:2},{value:"<code>Syntax</code>",id:"syntax",level:2},{value:"Largest Node",id:"largest-node",level:3},{value:"Named node",id:"named-node",level:3},{value:"Examples",id:"examples",level:3},{value:"<code>Syntax*</code>",id:"syntax-1",level:2},{value:"<code>Line</code>",id:"line",level:2},{value:"<code>Line*</code>",id:"line-1",level:2},{value:"<code>Word</code>",id:"word",level:2},{value:"<code>Subword</code>",id:"subword",level:2},{value:"<code>Char</code>",id:"char",level:2}];function x(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"primary",children:"Primary"})}),"\n",(0,t.jsx)(n.h2,{id:"keymap",children:"Keymap"}),"\n",(0,t.jsx)(l.W,{filename:"Primary Selection Modes"}),"\n",(0,t.jsx)(n.h2,{id:"syntax",children:(0,t.jsx)(n.code,{children:"Syntax"})}),"\n",(0,t.jsx)(n.p,{children:"Syntax Node (Coarse)."}),"\n",(0,t.jsxs)(n.p,{children:["This selection mode is powered by ",(0,t.jsx)(n.a,{href:"https://github.com/tree-sitter",children:"Tree-sitter"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This is one of my favourite selection mode, as it enable structural editing."}),"\n",(0,t.jsx)(n.p,{children:"There are two Syntax Node selection modes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Coarse: faster movement, lower accuracy"}),"\n",(0,t.jsx)(n.li,{children:"Fine: higher accuracy, slower movement"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Movement"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#--leftright",children:"Left/Right"})}),(0,t.jsxs)(n.td,{children:["Next/Previous ",(0,t.jsx)(n.strong,{children:"named"})," sibling node"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#previousnext",children:"Previous/Next"})}),(0,t.jsx)(n.td,{children:"Next/Previous sibling node, including anonymous ones"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Up"}),(0,t.jsx)(n.td,{children:"Parent node"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Down"}),(0,t.jsxs)(n.td,{children:["First ",(0,t.jsx)(n.strong,{children:"named"})," child"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Current"}),(0,t.jsx)(n.td,{children:"Select the largest node"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Jump"}),(0,t.jsx)(n.td,{children:"Jump to largest node"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"largest-node",children:"Largest Node"}),"\n",(0,t.jsx)(n.p,{children:"Using the following Javascript expression as example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"fox.bar();\n"})}),"\n",(0,t.jsxs)(n.p,{children:["There are several syntax nodes that start with ",(0,t.jsx)(n.code,{children:"f"}),(0,t.jsx)(n.sup,{children:(0,t.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"fox"})," (identifier)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"fox.bar"})," (member expression)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"fox.bar()"})," (call expression)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Suppose the cursor is below ",(0,t.jsx)(n.code,{children:"f"}),", pressing ",(0,t.jsx)(n.code,{children:"d"})," selects ",(0,t.jsx)(n.code,{children:"fox.bar()"}),", because ",(0,t.jsx)(n.code,{children:"fox.bar()"})," is the largest node that starts with ",(0,t.jsx)(n.code,{children:"f"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"named-node",children:"Named node"}),"\n",(0,t.jsx)(n.p,{children:"When creating a Tree sitter grammar file for a language, the author can choose\nto not give names to a certain kind of nodes."}),"\n",(0,t.jsx)(n.p,{children:'For example, "," are usually unnamed (\nanonymous) in most language grammars, thus it will be skipped when using the\nPrevious/Next movement in Syntax Node.'}),"\n",(0,t.jsxs)(n.p,{children:["See more at ",(0,t.jsx)(n.a,{href:"https://tree-sitter.github.io/tree-sitter/using-parsers/2-basic-parsing.html#named-vs-anonymous-nodes",children:"https://tree-sitter.github.io/tree-sitter/using-parsers/2-basic-parsing.html#named-vs-anonymous-nodes"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(d.P,{filename:"syntax-node"}),"\n",(0,t.jsx)(n.h2,{id:"syntax-1",children:(0,t.jsx)(n.code,{children:"Syntax*"})}),"\n",(0,t.jsx)(n.p,{children:"Fine Syntax Node."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Movement"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#--leftright",children:"Left/Right"})}),(0,t.jsxs)(n.td,{children:["Next/Previous ",(0,t.jsx)(n.strong,{children:"named"})," sibling node"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#previousnext",children:"Previous/Next"})}),(0,t.jsx)(n.td,{children:"Next/Previous sibling node, including anonymous ones"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Up"}),(0,t.jsx)(n.td,{children:"Parent node"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Shrink"}),(0,t.jsx)(n.td,{children:"First child (including anonymous)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Current"}),(0,t.jsx)(n.td,{children:"Smallest node that matches the current selection"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Jump"}),(0,t.jsx)(n.td,{children:"Jump to smallest node"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Fine Syntax Node is useful when you start to expand the selection starting from the current smallest node."}),"\n",(0,t.jsxs)(n.p,{children:["Suppose we have the following Javascript expression, and the current selection is ",(0,t.jsx)(n.code,{children:"hello"}),", and we want to select ",(0,t.jsx)(n.code,{children:"hello.world()"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"hello.world().foo().bar().spam().wise();\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If we press ",(0,t.jsx)(n.code,{children:"d"}),", the whole expression will be selected",(0,t.jsx)(n.sup,{children:(0,t.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),", and we will need to press ",(0,t.jsx)(n.code,{children:"k"})," several times to shrink the selection down to ",(0,t.jsx)(n.code,{children:"hello.world()"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["However, if we use ",(0,t.jsx)(n.code,{children:"D"})," instead, the selection will remain as ",(0,t.jsx)(n.code,{children:"hello"}),", and pressing ",(0,t.jsx)(n.code,{children:"i"})," multiple times will get us to ",(0,t.jsx)(n.code,{children:"hello.world()"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"line",children:(0,t.jsx)(n.code,{children:"Line"})}),"\n",(0,t.jsx)(n.p,{children:"In this selection mode, the selection is trimmed, which means that the leading\nand trailing spaces of each line are not meaningful."}),"\n",(0,t.jsx)(n.p,{children:"The meaningful selection of this mode is the trimmed portion of any non-empty line."}),"\n",(0,t.jsx)(n.p,{children:"The meaningless selections are empty lines."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Movement"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Up/Down"}),(0,t.jsx)(n.td,{children:"Move to the nearest empty lines above/below"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Previous/Next"}),(0,t.jsx)(n.td,{children:"Move to all kinds of line portions"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"First/Last"}),(0,t.jsx)(n.td,{children:"Move to the first/last non-empty line of the current file"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Left/Right"}),(0,t.jsx)(n.td,{children:"Move to the previous/next non-empty line"})]})]})]}),"\n",(0,t.jsx)(d.P,{filename:"line"}),"\n",(0,t.jsx)(n.h2,{id:"line-1",children:(0,t.jsx)(n.code,{children:"Line*"})}),"\n",(0,t.jsx)(n.p,{children:"Full Line."}),"\n",(0,t.jsxs)(n.p,{children:["Same as ",(0,t.jsx)(n.a,{href:"#line",children:"Line"}),", however, leading whitespaces and trailing whitespaces, including newline characters are also selected."]}),"\n",(0,t.jsx)(n.h2,{id:"word",children:(0,t.jsx)(n.code,{children:"Word"})}),"\n",(0,t.jsxs)(n.p,{children:["Each unit is a sequence of alphanumeric characters including ",(0,t.jsx)(n.code,{children:"-"})," and ",(0,t.jsx)(n.code,{children:"_"}),"."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Movement"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Up/Down/Previous/Next"}),(0,t.jsx)(n.td,{children:"Move to all kinds of word, including symbols"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Left/Right"}),(0,t.jsx)(n.td,{children:"Move to non-symbol word only"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Suppose the following example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rs",children:"use crate::{components::editor::OpenFile, char_index::CharIndex};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If the current selection is selecting ",(0,t.jsx)(n.code,{children:"use"}),", the following table demonstrates how many steps it takes to navigate to ",(0,t.jsx)(n.code,{children:"OpenFile"}),"."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Navigation include/exclude symbols"}),(0,t.jsx)(n.th,{children:"Steps"}),(0,t.jsx)(n.th,{children:"Count"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Include"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"crate"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:"{"})," ",(0,t.jsx)(n.code,{children:"components"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:"editor"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:":"})," ",(0,t.jsx)(n.code,{children:"OpenFile"})]}),(0,t.jsx)(n.td,{children:"11"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Exclude"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"crate"})," ",(0,t.jsx)(n.code,{children:"components"})," ",(0,t.jsx)(n.code,{children:"editor"})," ",(0,t.jsx)(n.code,{children:"OpenFile"})]}),(0,t.jsx)(n.td,{children:"4"})]})]})]}),"\n",(0,t.jsx)(d.P,{filename:"word"}),"\n",(0,t.jsx)(n.h2,{id:"subword",children:(0,t.jsx)(n.code,{children:"Subword"})}),"\n",(0,t.jsx)(n.p,{children:"This selects subword within a subword."}),"\n",(0,t.jsxs)(n.p,{children:["For example, ",(0,t.jsx)(n.code,{children:"myOatPepperBanana"})," consists of 4 short subword, namely: ",(0,t.jsx)(n.code,{children:"my"}),", ",(0,t.jsx)(n.code,{children:"Oat"}),", ",(0,t.jsx)(n.code,{children:"Pepper"})," and ",(0,t.jsx)(n.code,{children:"Banana"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["This is useful for renaming identifiers, especially if we only want to change a single subword of the name. ",(0,t.jsx)(n.sup,{children:(0,t.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Movement"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Up/Down/Previous/Next"}),(0,t.jsx)(n.td,{children:"Move to all kinds of subword, including symbols"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Left/Right"}),(0,t.jsx)(n.td,{children:"Move to non-symbol subword only"})]})]})]}),"\n",(0,t.jsx)(d.P,{filename:"subword"}),"\n",(0,t.jsx)(n.h2,{id:"char",children:(0,t.jsx)(n.code,{children:"Char"})}),"\n",(0,t.jsx)(n.p,{children:"Character."}),"\n",(0,t.jsxs)(n.p,{children:["In this selection mode, the movements behave like the usual editor, where ",(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#--leftright",children:"Left/Right"})," means left/right, and so on."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/ki-editor/docs/normal-mode/core-movements#firstlast",children:"First/Last"})," means the first/last character of the current word."]}),"\n",(0,t.jsx)(d.P,{filename:"char"}),"\n","\n",(0,t.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,t.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,t.jsxs)(n.p,{children:["You can try it out at ",(0,t.jsx)(n.a,{href:"https://astexplorer.net/",children:"https://astexplorer.net/"}),", using the ",(0,t.jsx)(n.code,{children:"@typescript-eslint/parser"}),". ",(0,t.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})," ",(0,t.jsxs)(n.a,{href:"#user-content-fnref-1-2","data-footnote-backref":"","aria-label":"Back to reference 1-2",className:"data-footnote-backref",children:["\u21a9",(0,t.jsx)(n.sup,{children:"2"})]})," ",(0,t.jsxs)(n.a,{href:"#user-content-fnref-1-3","data-footnote-backref":"","aria-label":"Back to reference 1-3",className:"data-footnote-backref",children:["\u21a9",(0,t.jsx)(n.sup,{children:"3"})]})]}),"\n"]}),"\n"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},78536(e,n,s){s.d(n,{k:()=>m});var r=s(96540),t=s(8532),i=s(29030),d=s(14476),l=s(74848);function o(e,n){const[s,t]=(0,r.useState)((()=>{try{const s=localStorage.getItem(e);return s?JSON.parse(s):n}catch(s){return console.error(`Error reading localStorage key "${e}":`,s),n}}));return(0,r.useEffect)((()=>{try{localStorage.setItem(e,JSON.stringify(s))}catch(n){console.error(`Error writing to localStorage key "${e}":`,n)}}),[e,s]),[s,t]}const c=d.Ik({name:d.Yj(),rows:d.YO(d.YO(d.Ik({normal:d.me(d.Yj()),alted:d.me(d.Yj()),shifted:d.me(d.Yj())}))),keyboard_layouts:d.YO(d.Ik({name:d.Yj(),keys:d.YO(d.YO(d.Yj()))}))}),a="keymap-keyboard-layout",h="keymap-show-keys",x="grid-alignment",j="panel-layout";const m=e=>{const[n,s]=(0,r.useState)(null),[t,d]=(0,r.useState)(null),o=(0,i.Ay)(`/keymaps/${e.filename}.json`);return(0,r.useEffect)((()=>{(async function(e){const n=await fetch(e),s=await n.json();return console.log(s),c.parse(s)})(o).then((e=>{s(e)})).catch((e=>d(e)))}),[o]),(0,l.jsxs)("div",{style:{display:"grid",gap:64},children:[n&&(0,l.jsx)(f,{keymap:n}),t&&(0,l.jsx)("div",{style:{color:"red"},children:t.message})]})},p=["Row Staggered","Ortholinear"],u=["Unified","Split","Stack"],f=e=>{const[n,s]=o(h,!0),[i,d]=o(j,"Unified"),[c,m]=o(x,"Ortholinear"),[f,g]=o(a,e.keymap.keyboard_layouts[0].name),y=r.useMemo((()=>e.keymap.keyboard_layouts.find((e=>e.name===f))||e.keymap.keyboard_layouts[0]),[f,e.keymap.keyboard_layouts]),{colorMode:v}=(0,t.G)(),b={width:100,height:100,border:"1px solid "+("light"===v?"black":"white"),display:"grid",placeItems:"center",borderRadius:4,gridTemplateRows:`repeat(${n?4:3}, 1fr)`,fontSize:14},w=()=>(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:()=>s(!n)}),(0,l.jsx)("span",{children:"Show keys"})]}),n&&(0,l.jsx)("select",{value:y.name,onChange:e=>{g(e.target.value)},className:"px-2 py-1 border rounded",children:e.keymap.keyboard_layouts.sort(((e,n)=>e.name.localeCompare(n.name))).map((e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.name)))}),(0,l.jsx)("select",{value:i,onChange:e=>{d(e.target.value)},className:"px-2 py-1 border rounded",children:Array(...u).sort().map((e=>(0,l.jsx)("option",{value:e,children:e},e)))}),(0,l.jsx)("select",{value:c,onChange:e=>{m(e.target.value)},children:p.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))})]});function k(e){throw new Error("You are missing cases in your switch")}const S=s=>{const t=(e=>{switch(e){case"Left":return(e,n)=>n<5;case"Right":return(e,n)=>n>=5;case"All":return(e,n)=>!0;default:k()}})(s),d=e.keymap.rows.map((e=>e.filter(t))),o=y.keys.map((e=>e.filter(t))),a=(e=>{switch(e){case"Left":return(e,n)=>1===e&&3===n;case"Right":return(e,n)=>1===e&&1===n;case"All":return(e,n)=>1===e&&(3===n||6===n);default:k()}})(s);return d.map(((e,s)=>{const t="Row Staggered"===c?[0,24,56][s]:0;return(0,l.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",marginLeft:t},children:e.map(((e,t)=>(0,l.jsxs)(r.Fragment,{children:["Split"===i&&5===t&&(0,l.jsx)("div",{style:{width:100/1.618}}),(0,l.jsx)("div",{style:{textAlign:"center"},children:(0,l.jsxs)("div",{style:{...b,gridArea:"1 / 1",overflow:"hidden",backgroundColor:a(s,t)?"light"===v?"lightyellow":"darkblue":void 0},children:[n&&(0,l.jsx)("div",{style:{backgroundColor:"light"===v?"black":"white",color:"light"===v?"white":"black",width:"100%"},children:o[s][t]}),e.alted?(0,l.jsxs)("div",{children:["\u2325 \xa0",e.alted]}):(0,l.jsx)("div",{}),e.shifted?(0,l.jsxs)("div",{children:["\u21e7\xa0",e.shifted]}):(0,l.jsx)("div",{}),e.normal?(0,l.jsx)("div",{children:e.normal}):(0,l.jsx)("div",{})]})})]},`${s}-${t}`)))},s)}))},N=()=>(0,l.jsx)("div",{style:{fontFamily:"sans-serif",whiteSpace:"nowrap",display:"grid",gap:4,paddingBottom:16,overflowX:"auto"},children:"Stack"===i?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("h3",{children:"Left Key Panel"}),S("Left"),(0,l.jsx)("h3",{style:{paddingTop:16},children:"Right Key Panel"}),S("Right")]}):S("All")});return(0,l.jsxs)("div",{style:{display:"grid",gap:8,marginTop:8,marginBottom:16},children:[(0,l.jsx)(w,{}),(0,l.jsx)(N,{})]})}}}]);