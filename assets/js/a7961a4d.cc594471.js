"use strict";(globalThis.webpackChunkdocu=globalThis.webpackChunkdocu||[]).push([[9384],{368(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"normal-mode/core-movements","title":"Core Movements","description":"Intro","source":"@site/docs/normal-mode/core-movements.md","sourceDirName":"normal-mode","slug":"/normal-mode/core-movements","permalink":"/ki-editor/docs/normal-mode/core-movements","draft":false,"unlisted":false,"editUrl":"https://github.com/ki-editor/ki-editor/tree/master/docs/normal-mode/core-movements.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Normal Mode","permalink":"/ki-editor/docs/normal-mode/"},"next":{"title":"Selection Modes","permalink":"/ki-editor/docs/category/selection-modes-1"}}');var i=n(74848),r=n(28453),o=n(27893),l=n(19506);const d={sidebar_position:2},c="Core Movements",a={},h=[{value:"Intro",id:"intro",level:2},{value:"Keymap",id:"keymap",level:2},{value:"<code>\u25c0</code> <code>\u25b6</code> Left/Right",id:"--leftright",level:3},{value:"Previous/Next",id:"previousnext",level:3},{value:"<code>\u25b2</code> <code>\u25bc</code> Up/Down",id:"--updown",level:3},{value:"Sticky Column",id:"sticky-column",level:4},{value:"First/Last",id:"firstlast",level:3},{value:"<code>Jump</code>",id:"jump",level:3},{value:"<code>Index</code> Jump to Index",id:"index-jump-to-index",level:3},{value:"Current",id:"current",level:3}];function m(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"core-movements",children:"Core Movements"})}),"\n",(0,i.jsx)(t.h2,{id:"intro",children:"Intro"}),"\n",(0,i.jsxs)(t.p,{children:["Core Movements is one of the main concepts in Ki, because it is standardized for\nevery ",(0,i.jsx)(t.a,{href:"/ki-editor/docs/normal-mode/selection-modes/",children:"selection modes"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"There are 9 movements in total:"}),"\n",(0,i.jsx)(t.h2,{id:"keymap",children:"Keymap"}),"\n",(0,i.jsx)(l.W,{filename:"Movements"}),"\n",(0,i.jsxs)(t.h3,{id:"--leftright",children:[(0,i.jsx)(t.code,{children:"\u25c0"})," ",(0,i.jsx)(t.code,{children:"\u25b6"})," Left/Right"]}),"\n",(0,i.jsxs)(t.p,{children:["Left/Right means move to the previous/next ",(0,i.jsx)(t.strong,{children:"meaningful"})," selection of the current selection mode."]}),"\n",(0,i.jsx)(t.p,{children:"For example:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Selection Mode"}),(0,i.jsx)(t.th,{children:"Meaning"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Syntax Node"}),(0,i.jsx)(t.td,{children:"Next/Previous named sibling"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Word"}),(0,i.jsx)(t.td,{children:"Non-symbol word"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"previousnext",children:"Previous/Next"}),"\n",(0,i.jsxs)(t.p,{children:["Previous/Next means move to the previous/next selection of the current selection mode, ",(0,i.jsx)(t.strong,{children:"without"})," skipping any selections (generally)."]}),"\n",(0,i.jsx)(t.p,{children:"For example:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Selection Mode"}),(0,i.jsx)(t.th,{children:"Meaning"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Syntax Node"}),(0,i.jsx)(t.td,{children:"Sibling nodes including anonymous ones"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Word"}),(0,i.jsx)(t.td,{children:"All words including symbols"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Line"}),(0,i.jsx)(t.td,{children:"Empty lines"})]})]})]}),"\n",(0,i.jsxs)(t.h3,{id:"--updown",children:[(0,i.jsx)(t.code,{children:"\u25b2"})," ",(0,i.jsx)(t.code,{children:"\u25bc"})," Up/Down"]}),"\n",(0,i.jsx)(t.p,{children:"Up/Down means move to the nearest selection above/below the current line, except for\nthe following selection modes:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Selection Mode"}),(0,i.jsx)(t.th,{children:"Meaning"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Syntax Node"}),(0,i.jsx)(t.td,{children:"Parent or First-Sibling"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Quickfix"}),(0,i.jsx)(t.td,{children:"To first item of next/previous file"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"sticky-column",children:"Sticky Column"}),"\n",(0,i.jsx)(t.p,{children:"When a vertical movement is executed, the current cursor column will be stored as\nthe sticky column, such that subsequent vertical movements will try to adhere as much\nas possible to that sticky column."}),"\n",(0,i.jsx)(t.p,{children:"The sticky column will be cleared once any non-vertical movement is executed."}),"\n",(0,i.jsx)(o.P,{filename:"sticky-column"}),"\n",(0,i.jsx)(t.h3,{id:"firstlast",children:"First/Last"}),"\n",(0,i.jsx)(t.p,{children:"By default, First/Last moves to the first/last selection of the current selection mode."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Selection Mode"}),(0,i.jsx)(t.th,{children:"Meaning"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Syntax Node"}),(0,i.jsx)(t.td,{children:"First/Last named sibling"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Quickfix"}),(0,i.jsx)(t.td,{children:"First/Last item"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Char"}),(0,i.jsx)(t.td,{children:"First/Last char in the current subword"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Subword"}),(0,i.jsx)(t.td,{children:"First/Last subword in the current word"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Word"}),(0,i.jsx)(t.td,{children:"Previous/Next symbolic words"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Line & Full Line"}),(0,i.jsx)(t.td,{children:"First/Last line of the current file"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"jump",children:(0,i.jsx)(t.code,{children:"Jump"})}),"\n",(0,i.jsxs)(t.p,{children:["This is my favorite movement, which is inspired by ",(0,i.jsx)(t.a,{href:"https://github.com/easymotion/vim-easymotion",children:"Vim Easymotion"})," and friends ",(0,i.jsx)(t.sup,{children:(0,i.jsx)(t.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),"."]}),"\n",(0,i.jsx)(t.p,{children:"It allows you to jump to your desired position (as long as it is within the screen), with just 4 keypresses most of the time."}),"\n",(0,i.jsx)(t.p,{children:"It works like this:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Choose your selection mode"}),"\n",(0,i.jsxs)(t.li,{children:["Press ",(0,i.jsx)(t.code,{children:";"})]}),"\n",(0,i.jsx)(t.li,{children:"Press the first letter of the selection that you want to jump to."}),"\n",(0,i.jsx)(t.li,{children:"Press the letter that appears on top of the selection."}),"\n",(0,i.jsx)(t.li,{children:"Done."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Recommended selection modes:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Syntax Node"}),"\n",(0,i.jsx)(t.li,{children:"Subword"}),"\n",(0,i.jsx)(t.li,{children:"Word"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This movement can also work with the Swap mode to swap two syntax expressions that are far apart."}),"\n",(0,i.jsx)(o.P,{filename:"jump"}),"\n",(0,i.jsx)(t.p,{children:"Note: All letters after the first will be selected based on key accessibility in the chosen keyboard layout."}),"\n",(0,i.jsxs)(t.h3,{id:"index-jump-to-index",children:[(0,i.jsx)(t.code,{children:"Index"})," Jump to Index"]}),"\n",(0,i.jsx)(t.p,{children:"When this is activated, you will be prompted to key in a 1-based index, which after Enter\nwill take you to the nth selection of the current selection mode."}),"\n",(0,i.jsx)(t.p,{children:"Recommended selection modes:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Line (For going to a specific line number)"}),"\n",(0,i.jsx)(t.li,{children:"Char (For going to a specific column number)"}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"current",children:"Current"}),"\n",(0,i.jsx)(t.p,{children:'This is not really a movement, since its not "moving" the selections per se.'}),"\n",(0,i.jsx)(t.p,{children:"There's no specific keybinding for Current because it is triggered whenever a\nselection mode is chosen."}),"\n",(0,i.jsx)(t.p,{children:"For example, choosing the Line selection mode causes the current line to be\nselected, choosing the Subword selection mode causes the current subword to be selected."}),"\n",(0,i.jsx)(t.p,{children:"In cases where there's no matching selection under the cursor, the Current movement chooses the nearest selection based on the following criteria (in order):"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Same line as cursor (if possible)"}),"\n",(0,i.jsx)(t.li,{children:"Nearest to cursor (in terms of horizontal movements)"}),"\n"]}),"\n","\n",(0,i.jsxs)(t.section,{"data-footnotes":!0,className:"footnotes",children:[(0,i.jsx)(t.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{id:"user-content-fn-1",children:["\n",(0,i.jsxs)(t.p,{children:["hop.nvim, leap.nvim, lightspeed.nvim etc. ",(0,i.jsx)(t.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},17739(e,t,n){n.d(t,{F:()=>c});var s=n(96540),i=n(29030),r=n(85321),o=n(14476),l=n(74848);const d=o.Ik({description:o.Yj(),steps:o.YO(o.Ik({description:o.Yj(),key:o.Yj(),term_output:o.Yj(),buffer_contents_map:o.g1(o.Yj(),o.Yj())})),terminal_height:o.ai(),terminal_width:o.ai(),similar_vim_combos:o.YO(o.Yj())});const c=e=>{const[t,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(null),h=(0,i.Ay)(`/recipes/${e.filename}.json`);return(0,s.useEffect)((()=>{(async function(e){const t=await fetch(e),n=await t.json();return o.YO(d).parse(n.recipes_output)})(h).then((e=>n(e??[]))).catch((e=>c(e)))}),[h]),(0,l.jsxs)("div",{style:{display:"grid",gap:64},children:[(0,l.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/keyboard-css@1.2.4/dist/css/main.min.css"}),t.map(((e,t)=>(0,l.jsx)(a,{recipe:e},t))),r&&(0,l.jsx)("div",{style:{color:"red"},children:r.message})]})},a=e=>{const t=(0,s.useMemo)((()=>({options:{fontSize:20,cols:e.recipe.terminal_width,rows:e.recipe.terminal_height}})),[e.recipe.terminal_width,e.recipe.terminal_height]),{instance:n,ref:o}=(0,r.M)(t),[d,c]=(0,s.useState)(0);(0,s.useEffect)((()=>{const t=e.recipe.steps[d];n?.write(t.term_output)}),[n,d,e.recipe.steps[d]]);const a=Object.entries(e.recipe.steps[d].buffer_contents_map).sort(((e,t)=>e[0].localeCompare(t[0])));return(0,l.jsxs)("div",{style:{display:"grid",gap:16,justifySelf:"start",overflow:"hidden"},children:[(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",alignItems:"center"},children:[(0,l.jsxs)("div",{style:{display:"grid"},children:[(0,l.jsx)("h2",{children:e.recipe.description}),(0,l.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start"},children:e.recipe.similar_vim_combos.map(((e,t)=>(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",alignItems:"center"},children:[(0,l.jsx)("img",{style:{height:24},src:(0,i.Ay)("/img/vim-icon.svg")}),(0,l.jsx)("code",{style:{padding:"0 8px"},children:e})]},t)))})]}),(0,l.jsxs)("div",{style:{display:"grid",gap:8,gridAutoFlow:"column",justifySelf:"end"},children:[a.map((([e,t],n)=>(0,l.jsx)("button",{className:"kbc-button",onClick:()=>{navigator.clipboard.writeText(t)},children:a.length>1?`Copy (${e})`:"Copy"},n))),(0,l.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.max(d-1,0)),children:"\u2039"}),(0,l.jsx)("button",{className:"kbc-button",onClick:()=>c(Math.min(d+1,e.recipe.steps.length-1)),children:"\u203a"})]})]}),(0,l.jsx)("div",{ref:o,style:{justifySelf:"start",border:"1px solid black"}}),(0,l.jsx)("div",{style:{display:"grid",justifyContent:"start",alignContent:"start",justifyItems:"center",gap:8},children:(0,l.jsx)("div",{style:{display:"grid",gap:2,gridAutoFlow:"column",justifySelf:"start",overflowX:"auto",width:"100%",justifyContent:"start"},children:e.recipe.steps.map(((e,t)=>(0,l.jsx)("button",{onClick:()=>c(t),className:["kbc-button",t===d?"active":void 0].join(" "),style:{fontFamily:"monospace"},children:e.key},t)))})})]})}},19506(e,t,n){n.d(t,{W:()=>r});var s=n(35363),i=n(74848);const r=e=>(0,i.jsx)(s.default,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:()=>{const t=n(78536).k;return(0,i.jsx)(t,{filename:e.filename})}})},27893(e,t,n){n.d(t,{P:()=>r});var s=n(35363),i=n(74848);const r=e=>(0,i.jsx)(s.default,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:()=>{const t=n(17739).F;return(0,i.jsx)(t,{filename:e.filename})}})},78536(e,t,n){n.d(t,{k:()=>x});var s=n(96540),i=n(8532),r=n(29030),o=n(14476),l=n(74848);function d(e,t){const[n,i]=(0,s.useState)((()=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error(`Error reading localStorage key "${e}":`,n),t}}));return(0,s.useEffect)((()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch(t){console.error(`Error writing to localStorage key "${e}":`,t)}}),[e,n]),[n,i]}const c=o.Ik({name:o.Yj(),rows:o.YO(o.YO(o.Ik({normal:o.me(o.Yj()),alted:o.me(o.Yj()),shifted:o.me(o.Yj())}))),keyboard_layouts:o.YO(o.Ik({name:o.Yj(),keys:o.YO(o.YO(o.Yj()))}))}),a="keymap-keyboard-layout",h="keymap-show-keys",m="grid-alignment",u="panel-layout";const x=e=>{const[t,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),d=(0,r.Ay)(`/keymaps/${e.filename}.json`);return(0,s.useEffect)((()=>{(async function(e){const t=await fetch(e),n=await t.json();return console.log(n),c.parse(n)})(d).then((e=>{n(e)})).catch((e=>o(e)))}),[d]),(0,l.jsxs)("div",{style:{display:"grid",gap:64},children:[t&&(0,l.jsx)(y,{keymap:t}),i&&(0,l.jsx)("div",{style:{color:"red"},children:i.message})]})},j=["Row Staggered","Ortholinear"],p=["Unified","Split","Stack"],y=e=>{const[t,n]=d(h,!0),[r,o]=d(u,"Unified"),[c,x]=d(m,"Ortholinear"),[y,f]=d(a,e.keymap.keyboard_layouts[0].name),g=s.useMemo((()=>e.keymap.keyboard_layouts.find((e=>e.name===y))||e.keymap.keyboard_layouts[0]),[y,e.keymap.keyboard_layouts]),{colorMode:v}=(0,i.G)(),b={width:100,height:100,border:"1px solid "+("light"===v?"black":"white"),display:"grid",placeItems:"center",borderRadius:4,gridTemplateRows:`repeat(${t?4:3}, 1fr)`,fontSize:14},k=()=>(0,l.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:t,onChange:()=>n(!t)}),(0,l.jsx)("span",{children:"Show keys"})]}),t&&(0,l.jsx)("select",{value:g.name,onChange:e=>{f(e.target.value)},className:"px-2 py-1 border rounded",children:e.keymap.keyboard_layouts.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.name)))}),(0,l.jsx)("select",{value:r,onChange:e=>{o(e.target.value)},className:"px-2 py-1 border rounded",children:Array(...p).sort().map((e=>(0,l.jsx)("option",{value:e,children:e},e)))}),(0,l.jsx)("select",{value:c,onChange:e=>{x(e.target.value)},children:j.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))})]});function w(e){throw new Error("You are missing cases in your switch")}const S=n=>{const i=(e=>{switch(e){case"Left":return(e,t)=>t<5;case"Right":return(e,t)=>t>=5;case"All":return(e,t)=>!0;default:w()}})(n),o=e.keymap.rows.map((e=>e.filter(i))),d=g.keys.map((e=>e.filter(i))),a=(e=>{switch(e){case"Left":return(e,t)=>1===e&&3===t;case"Right":return(e,t)=>1===e&&1===t;case"All":return(e,t)=>1===e&&(3===t||6===t);default:w()}})(n);return o.map(((e,n)=>{const i="Row Staggered"===c?[0,24,56][n]:0;return(0,l.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",marginLeft:i},children:e.map(((e,i)=>(0,l.jsxs)(s.Fragment,{children:["Split"===r&&5===i&&(0,l.jsx)("div",{style:{width:100/1.618}}),(0,l.jsx)("div",{style:{textAlign:"center"},children:(0,l.jsxs)("div",{style:{...b,gridArea:"1 / 1",overflow:"hidden",backgroundColor:a(n,i)?"light"===v?"lightyellow":"darkblue":void 0},children:[t&&(0,l.jsx)("div",{style:{backgroundColor:"light"===v?"black":"white",color:"light"===v?"white":"black",width:"100%"},children:d[n][i]}),e.alted?(0,l.jsxs)("div",{children:["\u2325 \xa0",e.alted]}):(0,l.jsx)("div",{}),e.shifted?(0,l.jsxs)("div",{children:["\u21e7\xa0",e.shifted]}):(0,l.jsx)("div",{}),e.normal?(0,l.jsx)("div",{children:e.normal}):(0,l.jsx)("div",{})]})})]},`${n}-${i}`)))},n)}))},C=()=>(0,l.jsx)("div",{style:{fontFamily:"sans-serif",whiteSpace:"nowrap",display:"grid",gap:4,paddingBottom:16,overflowX:"auto"},children:"Stack"===r?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)("h3",{children:"Left Key Panel"}),S("Left"),(0,l.jsx)("h3",{style:{paddingTop:16},children:"Right Key Panel"}),S("Right")]}):S("All")});return(0,l.jsxs)("div",{style:{display:"grid",gap:8,marginTop:8,marginBottom:16},children:[(0,l.jsx)(k,{}),(0,l.jsx)(C,{})]})}}}]);