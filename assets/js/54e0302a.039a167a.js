"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[1817],{2926:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>h});var n=s(4848),l=s(8453),t=s(7692),r=s(6787);const o={},a="Space Menu",d={id:"normal-mode/space-menu",title:"Space Menu",description:"The space menu contains two major keymaps:",source:"@site/docs/normal-mode/space-menu.md",sourceDirName:"normal-mode",slug:"/normal-mode/space-menu",permalink:"/ki-editor/docs/normal-mode/space-menu",draft:!1,unlisted:!1,editUrl:"https://github.com/ki-editor/ki-editor/tree/master/docs/normal-mode/space-menu.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Other Movements",permalink:"/ki-editor/docs/normal-mode/other-movements"},next:{title:"Sub Modes",permalink:"/ki-editor/docs/category/sub-modes-1"}},c={},h=[{value:"Keymap",id:"keymap",level:2},{value:"LSP Actions (only applicable in the main editor):",id:"lsp-actions-only-applicable-in-the-main-editor",level:2},{value:"<code>Pick</code>",id:"pick",level:2},{value:"Searching behavior",id:"searching-behavior",level:3},{value:"Buffer Behavior",id:"buffer-behavior",level:3},{value:"<code>Theme</code>",id:"theme",level:3},{value:"<code>Symbol</code>",id:"symbol",level:3},{value:"<code>File</code>",id:"file",level:3},{value:"<code>Buffer</code>",id:"buffer",level:3},{value:"<code>Git status @</code>",id:"git-status-",level:3},{value:"<code>Git status ^</code>",id:"git-status--1",level:3},{value:"<code>Editor</code>",id:"editor",level:2},{value:"<code>Quit No Save</code>",id:"quit-no-save",level:3},{value:"<code>Save All Quit</code>",id:"save-all-quit",level:3},{value:"<code>Save All</code>",id:"save-all",level:3},{value:"<code>Pipe</code>",id:"pipe",level:3},{value:"<code>Replace all</code>",id:"replace-all",level:3},{value:"<code>TS Node Sexp</code>",id:"ts-node-sexp",level:3},{value:"<code>Explorer</code>",id:"explorer",level:2},{value:"<code>Help</code>",id:"help",level:2},{value:"Reveal",id:"reveal",level:2},{value:"<code>\xf7 Selection</code> (Reveal Selections)",id:"-selection-reveal-selections",level:3},{value:"<code>\xf7 Cursor</code> (Reveal Cursors)",id:"-cursor-reveal-cursors",level:3},{value:"<code>\xf7 Mark</code> (Reveal Marks)",id:"-mark-reveal-marks",level:3}];function u(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",section:"section",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"space-menu",children:"Space Menu"})}),"\n",(0,n.jsx)(i.p,{children:"The space menu contains two major keymaps:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Left"}),"\n",(0,n.jsx)(i.li,{children:"Right"}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The Left side contains the keymap of ",(0,n.jsx)(i.a,{href:"/ki-editor/docs/normal-mode/selection-modes/secondary/",children:"Global secondary selection modes"}),"."]}),"\n",(0,n.jsx)(i.p,{children:"The right side is a handy shortcut for (not restricted to):"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Contextual actions"}),"\n",(0,n.jsx)(i.li,{children:"File and quit actions"}),"\n",(0,n.jsx)(i.li,{children:"Searching files/symbols"}),"\n",(0,n.jsx)(i.li,{children:"Multi-cursor management"}),"\n",(0,n.jsx)(i.li,{children:"Opening other components"}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The space menu can be brought up by pressing ",(0,n.jsx)(i.code,{children:"space"}),"."]}),"\n",(0,n.jsx)(i.h2,{id:"keymap",children:"Keymap"}),"\n",(0,n.jsx)(r.W,{filename:"Space"}),"\n",(0,n.jsx)(i.h2,{id:"lsp-actions-only-applicable-in-the-main-editor",children:"LSP Actions (only applicable in the main editor):"}),"\n",(0,n.jsx)(r.W,{filename:"Space LSP"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Label"}),(0,n.jsx)(i.th,{children:"Action"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Code Actions"})}),(0,n.jsx)(i.td,{children:"Request code actions"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Hover"})}),(0,n.jsx)(i.td,{children:"Request hover info"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Rename"})}),(0,n.jsx)(i.td,{children:"Rename current symbol"})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"pick",children:(0,n.jsx)(i.code,{children:"Pick"})}),"\n",(0,n.jsx)(r.W,{filename:"Space Pick"}),"\n",(0,n.jsx)(i.h3,{id:"searching-behavior",children:"Searching behavior"}),"\n",(0,n.jsxs)(i.p,{children:["Searching is powered by ",(0,n.jsx)(i.a,{href:"https://github.com/helix-editor/nucleo",children:"Helix's Nucleo"}),", and some ",(0,n.jsx)(i.a,{href:"https://github.com/junegunn/fzf?tab=readme-ov-file#search-syntax",children:"fzf"}),"-esque search syntax works here:"]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Token"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"sbt"})}),(0,n.jsxs)(i.td,{children:["Items that match ",(0,n.jsx)(i.code,{children:"sbt"}),", for example ",(0,n.jsx)(i.code,{children:"serbian-bear-tinker"})]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"'wild"})}),(0,n.jsxs)(i.td,{children:["Items that must include ",(0,n.jsx)(i.code,{children:"wild"})]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:".mp3$"})}),(0,n.jsxs)(i.td,{children:["Items that end with ",(0,n.jsx)(i.code,{children:".mp3"})]})]})]})]}),"\n",(0,n.jsx)(i.p,{children:"Search terms can be separated by space, which means AND, and their order is unimportant."}),"\n",(0,n.jsxs)(i.p,{children:["For example, the search query ",(0,n.jsx)(i.code,{children:"stb 'wild"})," matches ",(0,n.jsx)(i.code,{children:"wild-serbian-bear-tiger"})," and also ",(0,n.jsx)(i.code,{children:"stubbornly_wild"}),"."]}),"\n",(0,n.jsxs)(i.p,{children:["Also, you can use the initals to search for a file, for example, ",(0,n.jsx)(i.code,{children:"ekl"})," matches ",(0,n.jsx)(i.code,{children:"editor_keymap_legend.rs"}),"."]}),"\n",(0,n.jsxs)(i.p,{children:["Because ",(0,n.jsx)(i.a,{href:"/ki-editor/docs/core-concepts#3-every-component-is-a-buffereditor",children:"every component is a buffer/editor"}),", fuzzy search logic is also used for filtering LSP completions."]}),"\n",(0,n.jsx)(i.h3,{id:"buffer-behavior",children:"Buffer Behavior"}),"\n",(0,n.jsx)(i.p,{children:"The buffer navigation, including the Buffer List and Previous/Next Buffer options, displays only files\nthat have been directly opened or edited by the user. Files that are merely displayed, such as those\nfrom search results or diagnostic messages, do not automatically become part of the buffer list."}),"\n",(0,n.jsxs)(i.p,{children:["For example, if you rename a symbol in ",(0,n.jsx)(i.code,{children:"file1.rs"})," and this causes an error in ",(0,n.jsx)(i.code,{children:"file2.rs"}),", ",(0,n.jsx)(i.code,{children:"file2.rs"}),"\nwill be shown when navigating diagnostic messages. However, unless you edit ",(0,n.jsx)(i.code,{children:"file2.rs"}),", it will not be\nadded to the buffer list. Similarly, if you search your project and view results in multiple files,\nthese files will not be included in the buffer list unless you edit them."]}),"\n",(0,n.jsx)(i.h3,{id:"theme",children:(0,n.jsx)(i.code,{children:"Theme"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.a,{href:"/ki-editor/docs/themes",children:"Themes"})}),"\n",(0,n.jsx)(i.h3,{id:"symbol",children:(0,n.jsx)(i.code,{children:"Symbol"})}),"\n",(0,n.jsx)(i.p,{children:"LSP Symbols"}),"\n",(0,n.jsx)(i.h3,{id:"file",children:(0,n.jsx)(i.code,{children:"File"})}),"\n",(0,n.jsx)(i.p,{children:"Files (Not git ignored)"}),"\n",(0,n.jsx)(i.h3,{id:"buffer",children:(0,n.jsx)(i.code,{children:"Buffer"})}),"\n",(0,n.jsx)(i.p,{children:"Buffers (opened files)"}),"\n",(0,n.jsx)(i.h3,{id:"git-status-",children:(0,n.jsx)(i.code,{children:"Git status @"})}),"\n",(0,n.jsxs)(i.p,{children:["Git status (against current branch) ",(0,n.jsx)(i.sup,{children:(0,n.jsx)(i.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n",(0,n.jsx)(i.h3,{id:"git-status--1",children:(0,n.jsx)(i.code,{children:"Git status ^"})}),"\n",(0,n.jsxs)(i.p,{children:["Git status (against main branch) ",(0,n.jsx)(i.sup,{children:(0,n.jsx)(i.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]}),"\n",(0,n.jsx)(i.h2,{id:"editor",children:(0,n.jsx)(i.code,{children:"Editor"})}),"\n",(0,n.jsx)(r.W,{filename:"Space Editor"}),"\n",(0,n.jsx)(i.h3,{id:"quit-no-save",children:(0,n.jsx)(i.code,{children:"Quit No Save"})}),"\n",(0,n.jsx)(i.p,{children:"Quit Ki without saving any unsaved files."}),"\n",(0,n.jsx)(i.h3,{id:"save-all-quit",children:(0,n.jsx)(i.code,{children:"Save All Quit"})}),"\n",(0,n.jsx)(i.p,{children:"Save all files and quit Ki."}),"\n",(0,n.jsx)(i.h3,{id:"save-all",children:(0,n.jsx)(i.code,{children:"Save All"})}),"\n",(0,n.jsx)(i.p,{children:"Save all files."}),"\n",(0,n.jsx)(i.h3,{id:"pipe",children:(0,n.jsx)(i.code,{children:"Pipe"})}),"\n",(0,n.jsx)(i.p,{children:"Open a prompt which takes a shell command that treats the current selections as STDIN, and replace the current selections with the STDOUT of the command."}),"\n",(0,n.jsx)(i.h3,{id:"replace-all",children:(0,n.jsx)(i.code,{children:"Replace all"})}),"\n",(0,n.jsx)(i.p,{children:"Replace all matches across all files of the current working directory with the specified replacement."}),"\n",(0,n.jsxs)(i.p,{children:["For example, if the search query is ",(0,n.jsx)(i.code,{children:"l hello_world bye_moon"}),", it will replaces all ",(0,n.jsx)(i.code,{children:"hello_world"})," across all files with ",(0,n.jsx)(i.code,{children:"bye_moon"}),"."]}),"\n",(0,n.jsxs)(i.p,{children:["See more at ",(0,n.jsx)(i.a,{href:"/ki-editor/docs/normal-mode/search-config",children:"Search in Ki"}),"."]}),"\n",(0,n.jsx)(i.h3,{id:"ts-node-sexp",children:(0,n.jsx)(i.code,{children:"TS Node Sexp"})}),"\n",(0,n.jsx)(i.p,{children:"Show the Tree-sitter node S-expression of the current selection."}),"\n",(0,n.jsx)(i.h2,{id:"explorer",children:(0,n.jsx)(i.code,{children:"Explorer"})}),"\n",(0,n.jsx)(i.p,{children:"Reveal current file in file explorer."}),"\n",(0,n.jsx)(i.h2,{id:"help",children:(0,n.jsx)(i.code,{children:"Help"})}),"\n",(0,n.jsx)(i.p,{children:"Shows the Normal mode keymap."}),"\n",(0,n.jsx)(i.h2,{id:"reveal",children:"Reveal"}),"\n",(0,n.jsx)(i.p,{children:"Reveal is a powerful viewport management feature that provides a bird's-eye view of your code or text. It automatically divides your viewport horizontally to show all relevant selections simultaneously, eliminating the need for scrolling (unless selections exceed the viewport height)."}),"\n",(0,n.jsx)(i.p,{children:"There are 3 kinds of Reveals:"}),"\n",(0,n.jsxs)(i.h3,{id:"-selection-reveal-selections",children:[(0,n.jsx)(i.code,{children:"\xf7 Selection"})," (Reveal Selections)"]}),"\n",(0,n.jsx)(i.p,{children:"Reveal Selections dynamically creates viewports based on the selections of the current selection mode. This is particularly powerful for non-contiguous (secondary) selections created through Search, LSP Diagnostics, Git Hunks, and other multi-selection modes."}),"\n",(0,n.jsx)(i.p,{children:"When used with Syntax Node selection mode, it can effectively emulate Code Folding, allowing you to view all sibling nodes of the current selected node, such as:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Viewing all functions of the current module"}),"\n",(0,n.jsx)(i.li,{children:"Viewing all methods of the current class"}),"\n",(0,n.jsx)(i.li,{children:"Viewing all statements of the current block"}),"\n",(0,n.jsx)(i.li,{children:"Viewing all subheaders under a header in a Markdown file"}),"\n"]}),"\n",(0,n.jsx)(t.P,{filename:"reveal-selections"}),"\n",(0,n.jsxs)(i.h3,{id:"-cursor-reveal-cursors",children:[(0,n.jsx)(i.code,{children:"\xf7 Cursor"})," (Reveal Cursors)"]}),"\n",(0,n.jsx)(i.p,{children:"Reveal Cursors is not just useful, but essential when working with multiple cursors. It provides visual confirmation and confidence that your editing operations will be correctly applied across all cursor positions. This is particularly valuable for bulk editing operations where precision is crucial."}),"\n",(0,n.jsx)(t.P,{filename:"reveal-cursors"}),"\n",(0,n.jsxs)(i.h3,{id:"-mark-reveal-marks",children:[(0,n.jsx)(i.code,{children:"\xf7 Mark"})," (Reveal Marks)"]}),"\n",(0,n.jsx)(i.p,{children:"Reveal Mark offers a modern alternative to traditional window splitting. Rather than manually managing multiple editor windows, you can mark and instantly view important sections simultaneously. You can think of it as automated window splitting."}),"\n",(0,n.jsx)(t.P,{filename:"reveal-marks"}),"\n","\n",(0,n.jsxs)(i.section,{"data-footnotes":!0,className:"footnotes",children:[(0,n.jsx)(i.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{id:"user-content-fn-1",children:["\n",(0,n.jsxs)(i.p,{children:["See more at ",(0,n.jsx)(i.a,{href:"/ki-editor/docs/normal-mode/selection-modes/secondary/#hunkhunk",children:"Git hunk"})," ",(0,n.jsx)(i.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{id:"user-content-fn-2",children:["\n",(0,n.jsxs)(i.p,{children:["This is very useful when you want to get the modified/added files commited into the current branch that you are working on. ",(0,n.jsx)(i.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},6401:(e,i,s)=>{s.d(i,{k:()=>m});var n=s(6540),l=s(5293),t=s(6025),r=s(4476),o=s(4848);function a(e,i){const[s,l]=(0,n.useState)((()=>{try{const s=localStorage.getItem(e);return s?JSON.parse(s):i}catch(s){return console.error(`Error reading localStorage key "${e}":`,s),i}}));return(0,n.useEffect)((()=>{try{localStorage.setItem(e,JSON.stringify(s))}catch(i){console.error(`Error writing to localStorage key "${e}":`,i)}}),[e,s]),[s,l]}const d=r.Ik({name:r.Yj(),rows:r.YO(r.YO(r.Ik({normal:r.me(r.Yj()),alted:r.me(r.Yj()),shifted:r.me(r.Yj())}))),keyboard_layouts:r.YO(r.Ik({name:r.Yj(),keys:r.YO(r.YO(r.Yj()))}))}),c="keymap-keyboard-layout",h="keymap-show-keys",u="grid-alignment",p="panel-layout";const m=e=>{const[i,s]=(0,n.useState)(null),[l,r]=(0,n.useState)(null),a=(0,t.Ay)(`/keymaps/${e.filename}.json`);return(0,n.useEffect)((()=>{(async function(e){const i=await fetch(e),s=await i.json();return console.log(s),d.parse(s)})(a).then((e=>{s(e)})).catch((e=>r(e)))}),[a]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[i&&(0,o.jsx)(f,{keymap:i}),l&&(0,o.jsx)("div",{style:{color:"red"},children:l.message})]})},j=["Row Staggered","Ortholinear"],x=["Unified","Split","Stack"],f=e=>{const[i,s]=a(h,!0),[t,r]=a(p,"Unified"),[d,m]=a(u,"Ortholinear"),[f,y]=a(c,e.keymap.keyboard_layouts[0].name),v=n.useMemo((()=>e.keymap.keyboard_layouts.find((e=>e.name===f))||e.keymap.keyboard_layouts[0]),[f,e.keymap.keyboard_layouts]),{colorMode:g}=(0,l.G)(),b={width:100,height:100,border:"1px solid "+("light"===g?"black":"white"),display:"grid",placeItems:"center",borderRadius:4,gridTemplateRows:`repeat(${i?4:3}, 1fr)`,fontSize:14},k=()=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",paddingBottom:8},children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:i,onChange:()=>s(!i)}),(0,o.jsx)("span",{children:"Show keys"})]}),i&&(0,o.jsx)("select",{value:v.name,onChange:e=>{y(e.target.value)},className:"px-2 py-1 border rounded",children:e.keymap.keyboard_layouts.sort(((e,i)=>e.name.localeCompare(i.name))).map((e=>(0,o.jsx)("option",{value:e.name,children:e.name},e.name)))}),(0,o.jsx)("select",{value:t,onChange:e=>{r(e.target.value)},className:"px-2 py-1 border rounded",children:Array(...x).sort().map((e=>(0,o.jsx)("option",{value:e,children:e},e)))}),(0,o.jsx)("select",{value:d,onChange:e=>{m(e.target.value)},children:j.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]});function w(e){throw new Error("You are missing cases in your switch")}const S=s=>{const l=(e=>{switch(e){case"Left":return(e,i)=>i<5;case"Right":return(e,i)=>i>=5;case"All":return(e,i)=>!0;default:w()}})(s),r=e.keymap.rows.map((e=>e.filter(l))),a=v.keys.map((e=>e.filter(l))),c=(e=>{switch(e){case"Left":return(e,i)=>1===e&&3===i;case"Right":return(e,i)=>1===e&&1===i;case"All":return(e,i)=>1===e&&(3===i||6===i);default:w()}})(s);return r.map(((e,s)=>{const l="Row Staggered"===d?[0,24,56][s]:0;return(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",marginLeft:l},children:e.map(((e,l)=>(0,o.jsxs)(n.Fragment,{children:["Split"===t&&5===l&&(0,o.jsx)("div",{style:{width:100/1.618}}),(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsxs)("div",{style:{...b,gridArea:"1 / 1",overflow:"hidden",backgroundColor:c(s,l)?"light"===g?"lightyellow":"darkblue":void 0},children:[i&&(0,o.jsx)("div",{style:{backgroundColor:"light"===g?"black":"white",color:"light"===g?"white":"black",width:"100%"},children:a[s][l]}),e.alted?(0,o.jsxs)("div",{children:["\u2325 \xa0",e.alted]}):(0,o.jsx)("div",{}),e.shifted?(0,o.jsxs)("div",{children:["\u21e7\xa0",e.shifted]}):(0,o.jsx)("div",{}),e.normal?(0,o.jsx)("div",{children:e.normal}):(0,o.jsx)("div",{})]})})]},`${s}-${l}`)))},s)}))},R=()=>(0,o.jsx)("div",{style:{fontFamily:"sans-serif",whiteSpace:"nowrap",display:"grid",gap:4,paddingBottom:16,overflowX:"auto"},children:"Stack"===t?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("h3",{children:"Left Key Panel"}),S("Left"),(0,o.jsx)("h3",{style:{paddingTop:16},children:"Right Key Panel"}),S("Right")]}):S("All")});return(0,o.jsxs)("div",{style:{display:"grid",gap:8,marginTop:8,marginBottom:16},children:[(0,o.jsx)(k,{}),(0,o.jsx)(R,{})]})}},6787:(e,i,s)=>{s.d(i,{W:()=>t});var n=s(8478),l=s(4848);const t=e=>(0,l.jsx)(n.A,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:()=>{const i=s(6401).k;return(0,l.jsx)(i,{filename:e.filename})}})},338:(e,i,s)=>{s.d(i,{F:()=>d});var n=s(6540),l=s(6025),t=s(5321),r=s(4476),o=s(4848);const a=r.Ik({description:r.Yj(),steps:r.YO(r.Ik({description:r.Yj(),key:r.Yj(),term_output:r.Yj(),buffer_contents_map:r.g1(r.Yj(),r.Yj())})),terminal_height:r.ai(),terminal_width:r.ai(),similar_vim_combos:r.YO(r.Yj())});const d=e=>{const[i,s]=(0,n.useState)([]),[t,d]=(0,n.useState)(null),h=(0,l.Ay)(`/recipes/${e.filename}.json`);return(0,n.useEffect)((()=>{(async function(e){const i=await fetch(e),s=await i.json();return r.YO(a).parse(s.recipes_output)})(h).then((e=>s(e??[]))).catch((e=>d(e)))}),[h]),(0,o.jsxs)("div",{style:{display:"grid",gap:64},children:[(0,o.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/keyboard-css@1.2.4/dist/css/main.min.css"}),i.map(((e,i)=>(0,o.jsx)(c,{recipe:e},i))),t&&(0,o.jsx)("div",{style:{color:"red"},children:t.message})]})},c=e=>{const i=(0,n.useMemo)((()=>({options:{fontSize:20,cols:e.recipe.terminal_width,rows:e.recipe.terminal_height}})),[e.recipe.terminal_width,e.recipe.terminal_height]),{instance:s,ref:r}=(0,t.M)(i),[a,d]=(0,n.useState)(0);(0,n.useEffect)((()=>{const i=e.recipe.steps[a];s?.write(i.term_output)}),[s,a,e.recipe.steps[a]]);const c=Object.entries(e.recipe.steps[a].buffer_contents_map).sort(((e,i)=>e[0].localeCompare(i[0])));return(0,o.jsxs)("div",{style:{display:"grid",gap:16,justifySelf:"start",overflow:"hidden"},children:[(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{display:"grid"},children:[(0,o.jsx)("h2",{children:e.recipe.description}),(0,o.jsx)("div",{style:{display:"grid",gridAutoFlow:"column",gap:8,justifyContent:"start"},children:e.recipe.similar_vim_combos.map(((e,i)=>(0,o.jsxs)("div",{style:{display:"grid",gridAutoFlow:"column",gap:4,justifyContent:"start",alignItems:"center"},children:[(0,o.jsx)("img",{style:{height:24},src:(0,l.Ay)("/img/vim-icon.svg")}),(0,o.jsx)("code",{style:{padding:"0 8px"},children:e})]},i)))})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:8,gridAutoFlow:"column",justifySelf:"end"},children:[c.map(((e,i)=>{let[s,n]=e;return(0,o.jsx)("button",{className:"kbc-button",onClick:()=>{navigator.clipboard.writeText(n)},children:c.length>1?`Copy (${s})`:"Copy"},i)})),(0,o.jsx)("button",{className:"kbc-button",onClick:()=>d(Math.max(a-1,0)),children:"\u2039"}),(0,o.jsx)("button",{className:"kbc-button",onClick:()=>d(Math.min(a+1,e.recipe.steps.length-1)),children:"\u203a"})]})]}),(0,o.jsx)("div",{ref:r,style:{justifySelf:"start",border:"1px solid black"}}),(0,o.jsx)("div",{style:{display:"grid",justifyContent:"start",alignContent:"start",justifyItems:"center",gap:8},children:(0,o.jsx)("div",{style:{display:"grid",gap:2,gridAutoFlow:"column",justifySelf:"start",overflowX:"auto",width:"100%",justifyContent:"start"},children:e.recipe.steps.map(((e,i)=>(0,o.jsx)("button",{onClick:()=>d(i),className:["kbc-button",i===a?"active":void 0].join(" "),style:{fontFamily:"monospace"},children:e.key},i)))})})]})}},7692:(e,i,s)=>{s.d(i,{P:()=>t});var n=s(8478),l=s(4848);const t=e=>(0,l.jsx)(n.A,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:()=>{const i=s(338).F;return(0,l.jsx)(i,{filename:e.filename})}})}}]);